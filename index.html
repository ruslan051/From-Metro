<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- –ú–µ—Ç–∞-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π -->
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö -->
    <p class="disclaimer">–°–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å–∞–π—Ç–∞ -->
        <header>
            <div class="header-main">
                <div class="header-title">
                    <h1>–ò–∑ –º–µ—Ç—Ä–æ</h1>
                    <div class="subtitle">–í—Å—Ç—Ä–µ—á–∞–π –ø–æ–ø—É—Ç—á–∏–∫–∞üöâ‚úî</div>
                </div>
                <div class="header-icons">
                    <div class="metro-icon">üöá</div>
                </div>
            </div>
        </header>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
        <div class="content">
            <!-- –≠–ö–†–ê–ù 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
            <section id="setup-screen" class="screen active">
                 <title>–ò–∑ –º–µ—Ç—Ä–æ | –ú–æ—Å–∫–≤–∞ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</title>
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º -->
                <nav class="navigation-buttons">
                    <button class="nav-btn active">1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
                    <button class="nav-btn" onclick="showWaitingRoom()">2. –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–∏</button>
                    <button class="nav-btn" onclick="showJoinedRoom()">3. –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏</button>
                </nav>
                
                <p>–£–∫–∞–∂–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥ –∏ –ø–æ–ª</p>
                
                <!-- –§–æ—Ä–º–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è -->
                <form id="setup-form">
                    <!-- –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞ -->
                    <div class="form-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥:</label>
                        <div class="city-options">
                            <div class="city-option moscow" data-city="moscow">
                                <div class="city-name">–ú–æ—Å–∫–≤–∞</div>
                                <div class="city-description">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –º–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω</div>
                            </div>
                            <div class="city-option spb active" data-city="spb">
                                <div class="city-name">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</div>
                                <div class="city-description">–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –º–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –í—ã–±–æ—Ä –ø–æ–ª–∞ -->
                    <div class="form-group">
                        <label>–í–∞—à –ø–æ–ª:</label>
                        <div class="gender-options">
                            <div class="gender-option active" data-gender="male">–ú—É–∂—Å–∫–æ–π</div>
                            <div class="gender-option" data-gender="female">–ñ–µ–Ω—Å–∫–∏–π</div>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–∫—Ä–∞–Ω—É -->
                    <button type="button" class="btn" id="enter-waiting-room">
                        –í–æ–π—Ç–∏ –≤ –∫–æ–º–Ω–∞—Ç—É –æ–∂–∏–¥–∞–Ω–∏—è
                    </button>
                </form>
            </section>
            
            <!-- –≠–ö–†–ê–ù 2: –ö–æ–º–Ω–∞—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è -->
            <section id="waiting-room-screen" class="screen">
                <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ -->
                <button class="back-btn" id="back-to-setup">
                    <i>‚Üê</i> –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                </button>
                
                <h2>–ö–æ–º–Ω–∞—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è</h2>
                
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º -->
                <nav class="navigation-buttons">
                    <button class="nav-btn" onclick="showSetup()">1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
                    <button class="nav-btn active">2. –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–∏</button>
                    <button class="nav-btn" onclick="showJoinedRoom()">3. –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏</button>
                </nav>
                
                <p> üî¥ –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–Ω—Ü–∏—é –Ω–∞ –∫–∞—Ä—Ç–µ –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è </p>
                <p> üî¥ —Ü–≤–µ—Ç –≤–µ—Ä—Ö–Ω–µ–π –æ–¥–µ–∂–¥—ã </p>
                <p> üî¥ –Ω–æ–º–µ—Ä –≤–∞–≥–æ–Ω–∞ (–µ—Å–ª–∏ –≤ –ø—É—Ç–∏)</p>
                
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞—Ä—Ç—ã —Å—Ç–∞–Ω—Ü–∏–π -->
                <div class="stations-map-container">
                    <h3>üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–π –º–µ—Ç—Ä–æ</h3>
                    
                    <!-- –õ–µ–≥–µ–Ω–¥–∞ –∫–∞—Ä—Ç—ã -->
                    <div class="map-controls">
                        <div class="map-legend">
                            <div class="legend-item">
                                <div class="legend-color connected"></div>
                                <span>–í—ã–±—Ä–∞–ª–∏ —Å—Ç–∞–Ω—Ü–∏—é</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color waiting"></div>
                                <span>–í —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–∞—Ä—Ç–∞ –º–µ—Ç—Ä–æ -->
                    <div class="metro-map" id="metro-map">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã —Å—Ç–∞–Ω—Ü–∏–π...</div>
                    </div>
                </div>

                <!-- –ü–∞–Ω–µ–ª—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
                <div class="user-settings-panel">
                    <h4>–í–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h4>
                    
                    <!-- –í—ã–±–æ—Ä –Ω–æ–º–µ—Ä–∞ –≤–∞–≥–æ–Ω–∞ -->
                    <div class="form-group">
                        <label for="wagon-select">–ù–æ–º–µ—Ä –≤–∞–≥–æ–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <select id="wagon-select">
                            <option value="">–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                        </select>
                    </div>
                    
                    <!-- –í—ã–±–æ—Ä —Ü–≤–µ—Ç–∞ –æ–¥–µ–∂–¥—ã -->
                    <div class="form-group">
                        <label for="color-select">–¶–≤–µ—Ç –≤–µ—Ä—Ö–Ω–µ–π –æ–¥–µ–∂–¥—ã</label>
                        <input type="text" id="color-select" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —á–µ—Ä–Ω—ã–π, —Å–∏–Ω–∏–π, –∫—Ä–∞—Å–Ω—ã–π" required>
                    </div>
                    
                    <!-- –¢–∞–π–º–µ—Ä –æ–∂–∏–¥–∞–Ω–∏—è -->
                    <div class="compact-timer" id="waiting-room-timer" onclick="toggleTimer(event)">
                        <div class="timer-header">
                            <div class="timer-title">‚è∞ –¢–∞–π–º–µ—Ä –æ–∂–∏–¥–∞–Ω–∏—è</div>
                            <div class="timer-status" id="waiting-timer-status">–ù–µ –∞–∫—Ç–∏–≤–µ–Ω</div>
                        </div>
                        <div class="timer-expanded" id="waiting-timer-expanded">
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏</p>
                            <div class="timer-options">
                                <button type="button" class="btn timer-option active" data-minutes="5" onclick="selectTimerOption(5, this, event)">5 –º–∏–Ω—É—Ç</button>
                                <button type="button" class="btn timer-option" data-minutes="10" onclick="selectTimerOption(10, this, event)">10 –º–∏–Ω—É—Ç</button>
                                <button type="button" class="btn timer-option" data-minutes="15" onclick="selectTimerOption(15, this, event)">15 –º–∏–Ω—É—Ç</button>
                            </div>
                            <div class="timer-display" id="waiting-timer-display">–ù–µ –∑–∞–ø—É—â–µ–Ω</div>
                            <div class="timer-controls">
                                <button type="button" class="btn btn-success" id="waiting-start-timer" onclick="startTimer(event)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä</button>
                                <button type="button" class="btn btn-secondary" id="waiting-stop-timer" onclick="stopTimer(event)" disabled>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –ö–Ω–æ–ø–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—ã–±–æ—Ä–∞ -->
                    <button class="btn btn-success" id="confirm-station">
                        –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
                    </button>
                </div>
            </section>

            <!-- –≠–ö–†–ê–ù 3: –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏ -->
            <section id="joined-room-screen" class="screen">
                <!-- –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ -->
                <button class="back-btn" id="back-to-waiting">
                    <i>‚Üê</i> –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∏—Å–∫—É
                </button>
                
                <h2>–í—ã –≤—ã–±—Ä–∞–ª–∏ —Å—Ç–∞–Ω—Ü–∏—é</h2>
                
                <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —ç–∫—Ä–∞–Ω–∞–º -->
                <nav class="navigation-buttons">
                    <button class="nav-btn" onclick="showSetup()">1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
                    <button class="nav-btn" onclick="showWaitingRoom()">2. –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–∏</button>
                    <button class="nav-btn active">3. –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏</button>
                </nav>
                
                <p>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º</p>
                
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="status-indicators" id="current-user-status">
                    <div class="status-indicator" id="position-indicator">
                        üìç –ü–æ–∑–∏—Ü–∏—è: <span id="current-position">–Ω–µ –≤—ã–±—Ä–∞–Ω–∞</span>
                    </div>
                    <div class="status-indicator" id="mood-indicator">
                        üòä –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: <span id="current-mood">–Ω–µ –≤—ã–±—Ä–∞–Ω–æ</span>
                    </div>
                </div>
                
                <!-- –í—ã–±–æ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ –≤–∞–≥–æ–Ω–µ -->
                <div class="state-section">
                    <h4>üéØ –í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è –≤ –≤–∞–≥–æ–Ω–µ</h4>
                    <div class="state-cards" id="position-cards">
                        <div class="state-card" data-position="–°–∏–∂—É —á–∏—Ç–∞—é" onclick="selectPosition('–°–∏–∂—É —á–∏—Ç–∞—é', this)">
                            <div class="state-icon">üìñ</div>
                            <div class="state-name">–°–∏–∂—É —á–∏—Ç–∞—é</div>
                        </div>
                        <div class="state-card" data-position="–°—Ç–æ—é –ø–æ —Ü–µ–Ω—Ç—Ä—É" onclick="selectPosition('–°—Ç–æ—é –ø–æ —Ü–µ–Ω—Ç—Ä—É', this)">
                            <div class="state-icon">üßç</div>
                            <div class="state-name">–°—Ç–æ—é –ø–æ —Ü–µ–Ω—Ç—Ä—É</div>
                        </div>
                        <div class="state-card" data-position="–°—Ç–æ—é —É –¥–≤–µ—Ä–∏" onclick="selectPosition('–°—Ç–æ—é —É –¥–≤–µ—Ä–∏', this)">
                            <div class="state-icon">üö™</div>
                            <div class="state-name">–°—Ç–æ—é —É –¥–≤–µ—Ä–∏</div>
                        </div>
                        <div class="state-card" data-position="–°–∏–∂—É –ø–æ —Ü–µ–Ω—Ç—Ä—É" onclick="selectPosition('–°–∏–∂—É –ø–æ —Ü–µ–Ω—Ç—Ä—É', this)">
                            <div class="state-icon">üí∫</div>
                            <div class="state-name">–°–∏–∂—É –ø–æ —Ü–µ–Ω—Ç—Ä—É</div>
                        </div>
                        <div class="state-card" data-position="–°–∏–∂—É —É –¥–≤–µ—Ä–∏" onclick="selectPosition('–°–∏–∂—É —É –¥–≤–µ—Ä–∏', this)">
                            <div class="state-icon">ü™ë</div>
                            <div class="state-name">–°–∏–∂—É —É –¥–≤–µ—Ä–∏</div>
                        </div>
                    </div>
                </div>

                <!-- –í—ã–±–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è -->
                <div class="state-section">
                    <h4>üòä –í–∞—à–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</h4>
                    <div class="state-cards" id="mood-cards">
                        <div class="state-card" data-mood="–ü—Ä–æ—Å—Ç–æ –Ω–∞–±–ª—é–¥–∞—é" onclick="selectMood('–ü—Ä–æ—Å—Ç–æ –Ω–∞–±–ª—é–¥–∞—é', this)">
                            <div class="state-icon">üëÄ</div>
                            <div class="state-name">–ü—Ä–æ—Å—Ç–æ –Ω–∞–±–ª—é–¥–∞—é</div>
                        </div>
                        <div class="state-card" data-mood="–°–ø–ª—é" onclick="selectMood('–°–ø–ª—é', this)">
                            <div class="state-icon">üò¥</div>
                            <div class="state-name">–°–ø–ª—é</div>
                        </div>
                        <div class="state-card" data-mood="–•–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, —É–ª—ã–±–∞—é—Å—å" onclick="selectMood('–•–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, —É–ª—ã–±–∞—é—Å—å', this)">
                            <div class="state-icon">üòä</div>
                            <div class="state-name">–•–æ—Ä–æ—à–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</div>
                        </div>
                        <div class="state-card" data-mood="–ü–ª–æ—Ö–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –≥—Ä—É—Å—Ç–Ω–æ" onclick="selectMood('–ü–ª–æ—Ö–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ, –≥—Ä—É—Å—Ç–Ω–æ', this)">
                            <div class="state-icon">üòî</div>
                            <div class="state-name">–ü–ª–æ—Ö–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</div>
                        </div>
                        <div class="state-card" data-mood="–ñ–¥—É –∫–æ–≥–¥–∞ –∫–æ –º–Ω–µ –ø–æ–¥–æ–π–¥—É—Ç" onclick="selectMood('–ñ–¥—É –∫–æ–≥–¥–∞ –∫–æ –º–Ω–µ –ø–æ–¥–æ–π–¥—É—Ç', this)">
                            <div class="state-icon">‚è≥</div>
                            <div class="state-name">–ñ–¥—É –∫–æ–≥–¥–∞ –∫–æ –º–Ω–µ –ø–æ–¥–æ–π–¥—É—Ç</div>
                        </div>
                        <div class="state-card" data-mood="–°–æ–±–∏—Ä–∞—é—Å—å –ø–æ–¥–æ–π—Ç–∏" onclick="selectMood('–°–æ–±–∏—Ä–∞—é—Å—å –ø–æ–¥–æ–π—Ç–∏', this)">
                            <div class="state-icon">üö∂</div>
                            <div class="state-name">–°–æ–±–∏—Ä–∞—é—Å—å –ø–æ–¥–æ–π—Ç–∏</div>
                        </div>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏ -->
                <div class="users-list-section">
                    <h3>üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–∞ –≤–∞—à–µ–π —Å—Ç–∞–Ω—Ü–∏–∏</h3>
                    <div id="group-members">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</div>
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –∏–∑ –≥—Ä—É–ø–ø—ã -->
                <button class="btn btn-danger" id="leave-group">–ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É</button>
            </section>
        </div> <!-- –∑–∞–∫—Ä—ã—Ç–∏–µ content -->
        
        <!-- –ü–æ–¥–≤–∞–ª —Å–∞–π—Ç–∞ -->
        <footer>
            &copy; 2025 | –ì–∞–¥–∂–∏ –õ–∞—Ç–∏–ø–æ–≤ | –ò–∑ –º–µ—Ç—Ä–æ | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
        </footer>
    </div> <!-- –∑–∞–∫—Ä—ã—Ç–∏–µ container -->

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ -->
    <script src="core.js"></script>
</body>
</html>