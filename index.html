<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–∑ –º–µ—Ç—Ä–æ | –ú–æ—Å–∫–≤–∞ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <p class="disclaimer">–°–∞–π—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
    
    <div class="container">
        <header>
            <h1>–ò–∑ –º–µ—Ç—Ä–æ</h1>
            <div class="subtitle">–ú–æ—Å–∫–≤–∞ –∏ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</div>
            <div class="metro-icon">üöá</div>
        </header>
        
        <div class="content">
            <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ 1 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div id="setup-screen" class="screen active">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è</h2>
                <div class="navigation-buttons">
                    <button class="nav-btn active">1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
                    <button class="nav-btn" onclick="showWaitingRoom()">2. –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–∏</button>
                    <button class="nav-btn" onclick="showJoinedRoom()">3. –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏</button>
                </div>
                <p>–£–∫–∞–∂–∏—Ç–µ –≤–∞—à –≥–æ—Ä–æ–¥ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</p>
                
                <form id="setup-form">
                    <div class="form-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥:</label>
                        <div class="city-options">
                            <div class="city-option moscow" data-city="moscow">
                                <div class="city-name">–ú–æ—Å–∫–≤–∞</div>
                                <div class="city-description">–ú–æ—Å–∫–æ–≤—Å–∫–∏–π –º–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω</div>
                            </div>
                            <div class="city-option spb active" data-city="spb">
                                <div class="city-name">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</div>
                                <div class="city-description">–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∏–π –º–µ—Ç—Ä–æ–ø–æ–ª–∏—Ç–µ–Ω</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–í–∞—à –ø–æ–ª:</label>
                        <div class="gender-options">
                            <div class="gender-option active" data-gender="male">
                                –ú—É–∂—Å–∫–æ–π
                            </div>
                            <div class="gender-option" data-gender="female">
                                –ñ–µ–Ω—Å–∫–∏–π
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" class="btn" id="enter-waiting-room">
                        –í–æ–π—Ç–∏ –≤ –∫–æ–º–Ω–∞—Ç—É –æ–∂–∏–¥–∞–Ω–∏—è
                    </button>
                </form>
            </div>
            
            <!-- –≠–∫—Ä–∞–Ω –∫–æ–º–Ω–∞—Ç—ã –æ–∂–∏–¥–∞–Ω–∏—è 2 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div id="waiting-room-screen" class="screen">
                <button class="back-btn" id="back-to-setup">
                    <i>‚Üê</i> –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
                </button>
                
                <h2>–ö–æ–º–Ω–∞—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è</h2>
                <div class="navigation-buttons">
                    <button class="nav-btn" onclick="showSetup()">1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
                    <button class="nav-btn active">2. –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–∏</button>
                    <button class="nav-btn" onclick="showJoinedRoom()">3. –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏</button>
                </div>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–Ω—Ü–∏—é –Ω–∞ –∫–∞—Ä—Ç–µ –¥–ª—è –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</p>
                
                <!-- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–π -->
                <div class="stations-map-container">
                    <h3>üó∫Ô∏è –ö–∞—Ä—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–π –º–µ—Ç—Ä–æ</h3>
                    
                    <div class="map-controls">
                        <div class="map-legend">
                            <div class="legend-item">
                                <div class="legend-color connected"></div>
                                <span>–í—ã–±—Ä–∞–ª–∏ —Å—Ç–∞–Ω—Ü–∏—é</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color waiting"></div>
                                <span>–í —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="metro-map" id="metro-map">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã —Å—Ç–∞–Ω—Ü–∏–π...</div>
                    </div>
                </div>

                <!-- –î–û–ë–ê–í–õ–ï–ù–û: –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –≤—Å–µ—Ö —Å—Ç–∞–Ω—Ü–∏—è—Ö -->
                <div class="users-list-section">
                    <h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏—è—Ö</h3>
                    <div id="requests-container">
                        <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
                    </div>
                </div>
                
                <!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <div class="user-settings-panel">
                    <h4>–í–∞—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h4>
                    
                    <div class="form-group">
                        <label for="wagon-select">–ù–æ–º–µ—Ä –≤–∞–≥–æ–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <select id="wagon-select">
                            <option value="">–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="color-select">–¶–≤–µ—Ç –≤–µ—Ä—Ö–Ω–µ–π –æ–¥–µ–∂–¥—ã</label>
                        <input type="text" id="color-select" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —á–µ—Ä–Ω—ã–π, —Å–∏–Ω–∏–π, –∫—Ä–∞—Å–Ω—ã–π" required>
                    </div>
                    
                    <div class="compact-timer" id="waiting-room-timer">
                        <div class="timer-header">
                            <div class="timer-title">‚è∞ –¢–∞–π–º–µ—Ä –æ–∂–∏–¥–∞–Ω–∏—è</div>
                            <div class="timer-status" id="waiting-timer-status">–ù–µ –∞–∫—Ç–∏–≤–µ–Ω</div>
                        </div>
                        <div class="timer-expanded" id="waiting-timer-expanded">
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏</p>
                            <div class="timer-options">
                                <button type="button" class="btn timer-option active" data-minutes="5">5 –º–∏–Ω—É—Ç</button>
                                <button type="button" class="btn timer-option" data-minutes="10">10 –º–∏–Ω—É—Ç</button>
                                <button type="button" class="btn timer-option" data-minutes="15">15 –º–∏–Ω—É—Ç</button>
                            </div>
                            <div class="timer-display" id="waiting-timer-display">–ù–µ –∑–∞–ø—É—â–µ–Ω</div>
                            <div class="timer-controls">
                                <button type="button" class="btn btn-success" id="waiting-start-timer">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä</button>
                                <button type="button" class="btn btn-secondary" id="waiting-stop-timer" disabled>–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                            </div>
                        </div>
                    </div>
                    
                    <button class="btn btn-success" id="confirm-station">
                        –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
                    </button>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è 3 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <!-- –≠–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è 3 —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
<div id="joined-room-screen" class="screen">
    <button class="back-btn" id="back-to-waiting">
        <i>‚Üê</i> –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∏—Å–∫—É
    </button>
    
    <h2>–í—ã –≤—ã–±—Ä–∞–ª–∏ —Å—Ç–∞–Ω—Ü–∏—é!</h2>
    <div class="navigation-buttons">
        <button class="nav-btn" onclick="showSetup()">1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞</button>
        <button class="nav-btn" onclick="showWaitingRoom()">2. –í—ã–±–æ—Ä —Å—Ç–∞–Ω—Ü–∏–∏</button>
        <button class="nav-btn active">3. –ö–æ–º–Ω–∞—Ç–∞ —Å—Ç–∞–Ω—Ü–∏–∏</button>
    </div>
    <p>–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–≤–æ–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º</p>
    
    <div class="state-section">
        <h4>üéØ –í–∞—à–∞ –ø–æ–∑–∏—Ü–∏—è –≤ –≤–∞–≥–æ–Ω–µ</h4>
        <div class="state-cards" id="position-cards">
            <!-- ... –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ–∑–∏—Ü–∏–π ... -->
        </div>
    </div>
    
    <div class="state-section">
        <h4>üòä –í–∞—à–µ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ</h4>
        <div class="state-cards" id="mood-cards">
            <!-- ... –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π ... -->
        </div>
    </div>

    <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
    <div class="users-list-section">
        <h3>üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ –Ω–∞ –≤–∞—à–µ–π —Å—Ç–∞–Ω—Ü–∏–∏</h3>
        <div id="group-members">
            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</div>
        </div>
    </div>

    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –ë–õ–û–ö: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID -->
    <div class="users-list-section">
        <h3>üë• –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∞ —Å—Ç–∞–Ω—Ü–∏–∏</h3>
        <div id="joined-requests-container">  <!-- ‚Üê –ò–ó–ú–ï–ù–ò–õ ID -->
            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>
        </div>
    </div>
    
    <button class="btn btn-danger" id="leave-group">–ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É</button>
</div>
    
    <footer>
        &copy; 2025 | –ì–∞–¥–∂–∏ –õ–∞—Ç–∏–ø–æ–≤ | –ò–∑ –º–µ—Ç—Ä–æ | –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
    </footer>

    <script src="core.js"></script>
</body>
</html>